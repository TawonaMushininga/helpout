# API Docs
## Generating Docs
Docs are autogenerated based off of the requests specs, no extra code is needed.

The specs are run with the OPENAPI env var set to trigger the doc generation, it is set on pushes only in the `main` branch and when changes are made to `spec/requests/api`.
An autolabeler action takes care of labeling with `api_docs` for any PR that changes the `spec/requests/api` files.

*The label has to be created before hand for the labeler to work*

### Parallelization
All request specs are ran parallelized in different nodes with N threads each. Each thread produces a piece of the updated doc file, which we then merge and upload. After each node uploads its piece of the update doc we download all of them and merge them together into the final file.

### Removing CI action
If you wish not to have a specific action to update the docs for you in the CI you can just modify the file and remove the following steps and jobs:
```diff
jobs:
...
  tests:
    ...
    steps:
-     - name: Set ENV for api docs
      ...
-     - name: Merge API docs from threads
  ...
- merge_results:
    ...
```
Also remove any instances of the OPENAPI env var:
```diff
- if: ${{ env.OPENAPI }}
```